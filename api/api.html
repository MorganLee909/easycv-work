<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>API Documentation | easycv.work</title>
    </head>
    <body>
        <h1>API Docs for easycv.work</h1>

        <div class="route">
            <h2>- - - /api/login - - -</h2>
            <code>POST</code>
            <h3>User login</h3>
            <p>Logs in the user</p>
            <code>body = {
                <ul>
                    <li>email: (String) user email</li>
                    <li>password: (String) user password</li>
                </ul>
                }
            </code>
            <code>response = {}</code>
        </div>

        <div class="route">
            <h2>- - - /api/logout - - -</h2>
            <code>GET</code>
            <h3>User logout</h3>
            <p>Logs out the user</p>
            <code>response = {}</code>
        </div>

        <div class="route">
            <h2>- - - /api/user - - -</h2>
            <code>POST</code>
            <h3>User Creation</h3>
            <p>Creates a new user. User is logged in once created. Also creates a single, blank CV</p>
            <code>body = {
                <ul>
                    <li>firstName: (String) user first name</li>
                    <li>lastName: (String) user last name</li>
                    <li>email: (String) user email, must be unique</li>
                    <li>password (String) user password, minumum 10 characters</li>
                </ul>
                }
            </code>
            <code>response = User</code>
        </div>

        <div class="route">
            <h2>- - - /api/user - - -</h2>
            <code>PUT</code>
            <h3>Update user</h3>
            <p>Updates many of the user details. NOTE: for languages and skill, if it is undefined/null then there will be no change. Otherwise all languages must be provided, new and existing</p>
            <code>body = {
                <ul>
                    <li>email: (String, optional) new email address</li>
                    <li>firstName: (String, optional) new first name</li>
                    <li>lastName: (String, optional) new last name</li>
                    <li>languages: (Optional)[{ 
                        <ul>
                            <li>name: (String, optional) language name</li>
                            <li>level: (String, optional) language level</li>
                        </ul>
                        }]
                    </li>
                    <li>skills: ([String], Optional) user skills, must contain all skills, new and old</li>
                </ul>
                }
            </code>
            <code>response = User</code>
        </div>

        <div class="route">
            <h2>- - - /api/cv - - -</h2>
            <code>PUT</code>
            <h3>Update a CV</h3>
            <p>Updates basic data for a CV. NOTE: for skills, if it is undefined/null then there will be no change. Otherwise all languages must be provided, new and existing</p>
            <code>body = {
                <ul>
                    <li>cv: (String) id of cv to update</li>
                    <li>jobTitle: (String, optional) job title for CV</li>
                    <li>jobCategory: (String, optional) job category for CV</li>
                    <li>experience: (Number, optional) years of experience in position</li>
                    <li>skils: ([String], optional) skills applicable to CV</li>
                </ul>
                }
            </code>
            <code>response = CV</code>
        </div>

        <div class="route">
            <h2>- - - /api/employer - - -</h2>
            <code>POST</code>
            <h3>Employer creation</h3>
            <p>Creates new employers (work history) and then adds them to the provided CV.</p>
            <code>body = {
                <ul>
                    <li>cv: (String) id of cv to add employers to</li>
                    <li>employers: [{
                        <ul>
                            <li>name: (String) employer name</li>
                            <li>startDate: (Date) date of start of employment</li>
                            <li>endDate: (Date) date of end of employment. If current, ignore or use falsey value</li>
                            <li>description: (String) description of employment</li>
                        </ul>
                        }]
                    </li>
                </ul>
                }
            </code>
            <code>response = [Cv]</code>
        </div>
    </body>
</html>